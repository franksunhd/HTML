## PHP 入门/输出语句/变量/常量/数据类型/类型转换/运算符

[TOC]

### 1. 什么是PHP?

- PHP 是一种创建动态交互性站点的强有力的服务器端脚本语言
- 超文本预处理器(PHP)
- 脚本在服务器上执行
- 可免费下载使用

### 2. PHP文件是什么

- PHP 文件可包含文本、HTML、JavaScript代码和 PHP 代码
- PHP 代码在服务器上执行，结果以纯 HTML 形式返回给浏览器
- PHP 文件的默认文件扩展名是 ".php"

### 3. PHP可以做什么

- 生成动态页面内容
- 创建,打开,读取,写入,关闭服务器的文件
- 收集表单数据
- 可以发送 和接收 cookies
- 可以添加,修改,删除数据库的数据
- 可以限制用户访问您的网站的一些页面
- 可以加密数据

### 4. 起步

```php
echo "暮登天子堂";  // 输出语句
$a1 = 1;  // 声明变量
```

- php声明变量使用 $
- 声明变量必须是 数字,字母,下划线的组合,不能以数字开头
- php 区分大小写
- php 是弱类型的语言,声明的时候不需要添加数据类型
- php 中函数名不区分大小写,末尾必须加分号否则报错
- php 中的 + 就是数据相加的意思,字符串的拼接使用 "."

```php
$s1 = 1;
$str = "枯藤老树昏鸦,你丑没事我瞎";

echo $str;  // 枯藤老树昏鸦,你丑没事我瞎
ECHO $str;  // 枯藤老树昏鸦,你丑没事我瞎
echo $str.$str;  // 枯藤老树昏鸦,你丑没事我瞎枯藤老树昏鸦,你丑没事我瞎
```

```php
// + 代表数据的相加
$a = 3;
$b = 5;
echo $a + $b;  // 8
```

```php
$c = '悟空';
$d = '八戒';

echo $c + $d;  // 0  原因:非数值类型的加法操作转换为0
echo $c.$d;  // 悟空八戒
```

### 5.变量赋值

```php
$s = 1;
$q = $s;
echo $q;  // 1
```

### 6. 引用赋值

```php
// 引用赋值
$str = "玉带林中挂";
// 引用赋值就是在变量前加 &,引用的变量的地址空间
$bb = &$str;
$bb = 1;

echo "\$str:".$str;  // 1
echo "<hr>";		
echo "\$bb:".$bb; // 1
echo "<hr>";
```

### 7.变量的变量

```php
// 变量的变量:一个变量作为另外一个变量的变量名
$a1 = "汉字";
$$a1 = "林黛玉";
echo $汉字;  // 林黛玉 
```

### 8.输出语句 echo/print/printf/print_r/var_dump

- var_dump: 调试专用输出,常用于调试时输出,能够输出数据的类型,字符串中字符的个数
- echo: 输出变量或者常量
- print 打印,只能输出一个值
- print_r 数组专用输出
- printf 格式化输出
- { } 大括号输出

```php
// php输出语句不会自动换行
$name = '柳如是';
$age = 18;

// 1.echo	
echo $name;
echo "<hr/>";
echo $age;
echo "<hr/>";
```

```php
// 2.printf格式化输出
printf("你好:%s,年龄:%d",$name,$age);
echo "<hr/>";
```

```php
// 索引数组
$arr = array("亚瑟",34,"蓝鸥");
print_r($arr);

/*
 * 总结:输出常量变量: echo
 * 		输出数组: print_r
 * 		调试输出: var_dump
 */

/* 
 * php中声明变量如果没有赋值,则该变量值为 NULL
 * php官方给的变量,称为超超全局变量,它在 php 代码中的任何位置都可以使用
 * 
 * $_SERVER:全局数组,该数组包含了所有的服务器信息
 * 
 * $_GLOBAL:全局数组,所有的全局变量的集合
 * 
 * $_GET: 全局数组,所有 get 方式请求的数据集合
 * 
 * $_POST:全局数组,所有 post 方式请求的数据集合
 * 
 * $_REQUEST:全局数组,所有请求的数据集合
 */
echo "<hr>";
print_r($_SERVER);
```

### 9.常量

- 定义常量: define(常量名,常量值,布尔值);
- 布尔值代表是否区分大小写,默认是 false,区分大小写

```php
define("PI",3.1415,true);
echo PI;  // 3.1415
echo pi;  // 3.1415
```

#### 魔术变量/内置常量

- 调试时使用

```php
echo __LINE__; // 当前代码行数
function aa() {
    echo "函数名为:".__FUNCTION__;
}
aa();
echo __FUNCTION__; // 输出函数名
echo __CLASS__; // 输出类名	
echo PHP_VERSION; // 版本号
echo strstr(PHP_OS, 'Darwin') ? 1 : 0;  // 1 获取当前操作系统
```

### 10.数据类型 (基本数据类型和复杂数据类型)

- 基本数据类型: 整形 , 浮点型,布尔型 ,字符串类型 , NULL
- 复杂数据类型 : 数组 , 对象 , 资源( file)

#### 基本数据类型

```php
$a1 = 12;
$a2 = 12.3;
$a3 = "字符串";
$a4 = false;
$a5 = null;

echo gettype($a1);  // integer
echo gettype($a2);  // double
echo gettype($a3);  // string
echo gettype($a4);  // boolean
echo gettype($a5);  // NULL
```

##### 字符串类型 — 定界符

- 定界符:php 可能会使用特殊的字符,并且这些字符比较复杂,转义起来比较麻烦,如果给他们写在定界符里面,就不再需要转义
- 注意:结尾必须靠边,前面不允许有空格,HHH可以更换
- 建议: 定界符最好用大写字母;若定界符内有和定界符类似的字符串,最好改变定界符,不要使用和定界符相同的字符串

```php
$str = <<<HHH
		<html>
			<body>
				<p>你好</p>
			</body>
		</html>
HHH;
	echo $str;  // 你好
```

##### 单引号和双引号的区别

- 1.双引号可以输出变量
- 2.单引号直接把引号里边的内容直接输出
- 3.如果双引号里边是字符和变量混合,可以使用{}把变量包含起来
- 4.如果单引号里边是字符和变量混合,可以使用.的方式进行字符串的拼接.

```php
echo '<hr>';
$name = "张居正";

$str1 = "万历首辅{$name}a";
echo $str1; // 万历首辅张居正a
echo '<hr>';

$str2 = '万历首辅{$name}a';
echo $str2; // 万历首辅{$name}a
echo '<hr>';

// 
 $w = "hello";
echo "英语你好{$w}是什么";
echo '英语你好'.$w.'是什么';
```

##### 转义字符的输出

```php
/* 转义字符
    双引号: \"
    单引号: \'
    换行: \n
    制表符: \t
    美元符号: \$
*/

$str3 = "子曰:\"学而时习之\";";
echo $str3;  // 子曰:"学而时习之";
```

##### NULL 类型的输出

```php
var_dump(NULL);  // NULL
```

#### 复杂类型的输出 

##### 数组类型

```php
// 索引数组
$arr = array(1,2,3,4,5);
print_r($arr); // Array ( [0] => 1 [1] => 2 [2] => 3 [3] => 4 [4] => 5 )
echo '<hr>';

// 关联数组
$arr1 = array("name" => "蓝鸥", "age" => 18);
print_r($arr1); // Array ( [name] => 蓝鸥 [age] => 18 )
echo '<hr>';
```

##### 对象类型 有对象必须先有类

```php
// 对象类.有对象必须现有类
class Person {
    // 创建一个方法
    function aa() {
        echo "少小离家老二回,老大嫁做商人妇";
    }
}

// 创建一个对象
$p1 = new Person();
// 在对象中调用属性和方法 使用 -> 的方式调用
$p1 -> aa();
```

##### 资源类型(file)

```php
// 调用资源
// fopen('文件名称','打开方式',)
$file = fopen('share.txt','r');
var_dump($file); // resource(3) of type (stream)
```

### 11.类型转换 — 显示转换和隐式转换

```php
/*
 * 类型转换:
 * 1.显示转换  (你想转换的类型)变量
 * 2.隐式转换  
 */

/* 
 * 显示转换括号里边的内容
 * 1. int integer
 * 2. float double
 * 3. bool boolean
 * 4. string
 * 5. array
 * 6. object
 */

/*
 * 隐式转换:
 * 1. 当字符串和数字发生运算时,字符串会被转化为整形或者浮点型(不够严谨)
 * 2. 一切非空,非0,非 NULL 都为真
 */

echo 2 + "c";  // 2
echo "case" + 2;  // 2

$a = "10";
$b = 0;
$c = $a - $b;

if($a) { // 默认隐式转换为 true
    echo "你是真哦";  // 执行这条
} else {
    echo "你是假哦";
}
```

#### 12.运算符

```php
/*
 * 1. 算数运算符: + - * / %  ++ --
 * 2. 赋值运算符: = += -= *= /=
 * 3. 关系运算符: > >= < <= 
 * 4. 逻辑运算符: ||  && ! xor(异或)
 * 5. 三目运算符: ?:
 * 6. 连接符 . 
 */

$a = 1;
$b = 1;
if($a xor $b){  // 进行异或运算 全真为假
    echo '假不假';
} else {
    echo '真不真';  // 执行这条代码
}
```












