## 微信小程序的组件

[TOC]

### 1.基础组件

- 框架为开发者提供了一系列基础组件，开发者可以通过组合这些基础组件进行快速开发。

#### 什么是组件

- 组件是视图层的基本组成单元。
- 组件自带一些功能与微信风格的样式。
- 一个组件通常包括`开始标签`和`结束标签`，`属性`用来修饰这个组件，`内容`在两个标签之内。

**注意：所有组件与属性都是小写，以连字符-连接**

### 2.属性类型

| 类型         | 描述           | 注解                                                         |
| ------------ | -------------- | ------------------------------------------------------------ |
| Boolean      | 布尔值         | 组件写上该属性，不管该属性等于什么，其值都为`true`，只有组件上没有写该属性时，属性值才为`false`。如果属性值为变量，变量的值会被转换为Boolean类型 |
| Number       | 数字           | `1`, `2.5`                                                   |
| String       | 字符串         | `"string"`                                                   |
| Array        | 数组           | `[ 1, "string" ]`                                            |
| Object       | 对象           | `{ key: value }`                                             |
| EventHandler | 事件处理函数名 | `"handlerName"` 是 [Page](https://mp.weixin.qq.com/debug/wxadoc/dev/framework/app-service/page.html)中定义的事件处理函数名 |
| Any          | 任意属性       |                                                              |

### 3.共同属性类型

| 属性名         | 类型         | 描述           | 注解                                     |
| -------------- | ------------ | -------------- | ---------------------------------------- |
| id             | String       | 组件的唯一标示 | 保持整个页面唯一                         |
| class          | String       | 组件的样式类   | 在对应的 WXSS 中定义的样式类             |
| style          | String       | 组件的内联样式 | 可以动态设置的内联样式                   |
| hidden         | Boolean      | 组件是否显示   | 所有组件默认显示                         |
| data-*         | Any          | 自定义属性     | 组件上触发的事件时，会发送给事件处理函数 |
| bind* / catch* | EventHandler | 组件的事件     |                                          |

### 4.视图容器

#### view 视图容器

| 属性名                 | 类型    | 默认值 | 说明                                                         | 最低版本                                                     |
| ---------------------- | ------- | ------ | ------------------------------------------------------------ | ------------------------------------------------------------ |
| hover-class            | String  | none   | 指定按下去的样式类。当 `hover-class="none"` 时，没有点击态效果 |                                                              |
| hover-stop-propagation | Boolean | false  | 指定是否阻止本节点的祖先节点出现点击态                       | [1.5.0](https://mp.weixin.qq.com/debug/wxadoc/dev/framework/compatibility.html) |
| hover-start-time       | Number  | 50     | 按住后多久出现点击态，单位毫秒                               |                                                              |
| hover-stay-time        | Number  | 400    | 手指松开后点击态保留时间，单位毫秒                           |                                                              |

```html
<view>
    <!-- 文本标签相当于 span -->
    <text>欢迎来到组件世界</text>
</view>

<view>
    <!-- 绑定数据,绑定 JS 传递过来的数据,使用{{}}就可以把 JS 数据显示到小程序页面 -->
    <text class='color'>{{txt}}</text>
</view>
```

#### scroll-view  可滚动视图区域。

```html
<!-- 
	scroll-y:允许纵向滚动
	scroll-into-view:
	scroll-with-animation:允许滚动时使用过渡动画
	enable-back-to-top:安卓机双击顶部回到顶部吗, ISO 单击顶部菜单回到顶部
-->
<scroll-view scroll-y='true' class='scrollH' scroll-into-view="{{setId}}" scroll-with-animation="true" enable-back-to-top="true">
    <block wx:for="{{arr}}">
        <view id="{{item}}">{{item}}</view>
    </block>
</scroll-view>
```

| 属性名                | 类型        | 默认值 | 说明                                                         |
| --------------------- | ----------- | ------ | ------------------------------------------------------------ |
| scroll-x              | Boolean     | false  | 允许横向滚动                                                 |
| scroll-y              | Boolean     | false  | 允许纵向滚动                                                 |
| upper-threshold       | Number      | 50     | 距顶部/左边多远时（单位px），触发 scrolltoupper 事件         |
| lower-threshold       | Number      | 50     | 距底部/右边多远时（单位px），触发 scrolltolower 事件         |
| scroll-top            | Number      |        | 设置竖向滚动条位置                                           |
| scroll-left           | Number      |        | 设置横向滚动条位置                                           |
| scroll-into-view      | String      |        | 值应为某子元素id（id不能以数字开头）。设置哪个方向可滚动，则在哪个方向滚动到该元素 |
| scroll-with-animation | Boolean     | false  | 在设置滚动条位置时使用动画过渡                               |
| enable-back-to-top    | Boolean     | false  | iOS点击顶部状态栏、安卓双击标题栏时，滚动条返回顶部，只支持竖向 |
| bindscrolltoupper     | EventHandle |        | 滚动到顶部/左边，会触发 scrolltoupper 事件                   |
| bindscrolltolower     | EventHandle |        | 滚动到底部/右边，会触发 scrolltolower 事件                   |
| bindscroll            | EventHandle |        | 滚动时触发，event.detail = {scrollLeft, scrollTop, scrollHeight, scrollWidth, deltaX, deltaY} |

- 使用竖向滚动时，需要给`<scroll-view/>`一个固定高度，通过 WXSS 设置 height。

#### swiper 轮播组件

| 属性名                  | 类型        | 默认值            | 说明                                                         | 最低版本                                                     |
| ----------------------- | ----------- | ----------------- | ------------------------------------------------------------ | ------------------------------------------------------------ |
| indicator-dots          | Boolean     | false             | 是否显示面板指示点                                           |                                                              |
| indicator-color         | Color       | rgba(0, 0, 0, .3) | 指示点颜色                                                   | [1.1.0](https://mp.weixin.qq.com/debug/wxadoc/dev/framework/compatibility.html) |
| indicator-active-color  | Color       | #000000           | 当前选中的指示点颜色                                         | [1.1.0](https://mp.weixin.qq.com/debug/wxadoc/dev/framework/compatibility.html) |
| autoplay                | Boolean     | false             | 是否自动切换                                                 |                                                              |
| current                 | Number      | 0                 | 当前所在滑块的 index                                         |                                                              |
| current-item-id         | String      | ""                | 当前所在滑块的 item-id ，不能与 current 被同时指定           | [1.9.0](https://mp.weixin.qq.com/debug/wxadoc/dev/framework/compatibility.html) |
| interval                | Number      | 5000              | 自动切换时间间隔                                             |                                                              |
| duration                | Number      | 500               | 滑动动画时长                                                 |                                                              |
| circular                | Boolean     | false             | 是否采用衔接滑动                                             |                                                              |
| vertical                | Boolean     | false             | 滑动方向是否为纵向                                           |                                                              |
| previous-margin         | String      | "0px"             | 前边距，可用于露出前一项的一小部分，接受 px 和 rpx 值        | [1.9.0](https://mp.weixin.qq.com/debug/wxadoc/dev/framework/compatibility.html) |
| next-margin             | String      | "0px"             | 后边距，可用于露出后一项的一小部分，接受 px 和 rpx 值        | [1.9.0](https://mp.weixin.qq.com/debug/wxadoc/dev/framework/compatibility.html) |
| display-multiple-items  | Number      | 1                 | 同时显示的滑块数量                                           | [1.9.0](https://mp.weixin.qq.com/debug/wxadoc/dev/framework/compatibility.html) |
| skip-hidden-item-layout | Boolean     | false             | 是否跳过未显示的滑块布局，设为 true 可优化复杂情况下的滑动性能，但会丢失隐藏状态滑块的布局信息 | [1.9.0](https://mp.weixin.qq.com/debug/wxadoc/dev/framework/compatibility.html) |
| bindchange              | EventHandle |                   | current 改变时会触发 change 事件，event.detail = {current: current, source: source} |                                                              |
| bindanimationfinish     | EventHandle |                   | 动画结束时会触发 animationfinish 事件，event.detail 同上     | [1.9.0](https://mp.weixin.qq.com/debug/wxadoc/dev/framework/compatibility.html) |

```html
<!--  轮播图 -->
<!-- 
    参数说明:
    indicator-dots:是否显示指示点 -> true
    indicator-color:指示点背景颜色 -> rgba
    indicator-active-color:当前选中点的颜色 -> 十六进制    
    interval: 轮播时长
    duration:动画时长
    circular动画衔接
 -->
<swiper indicator-dots ="{{indicatorDots}}" indicator-color = "rgba(0,255,0,1)" indicator-active-color = "#ff0" autoplay='{{autoplay}}' interval="{{interval}}" duration="{{duration}}" circular="true">
    <block wx:for="{{imgUrls}}">
        <swiper-item>
            <image src='{{item}}'></image>
        </swiper-item>
    </block>
</swiper>
```

##### swiper-item

仅可放置在`<swiper/>`组件中，宽高自动设置为100%。

| 属性名  | 类型   | 默认值 | 说明                    | 最低版本                                                     |
| ------- | ------ | ------ | ----------------------- | ------------------------------------------------------------ |
| item-id | String | ""     | 该 swiper-item 的标识符 | [1.9.0](https://mp.weixin.qq.com/debug/wxadoc/dev/framework/compatibility.html) |

#### movable-area  滑块,用于验证码等场景

| 属性名     | 类型    | 默认值 | 说明                                                         | 最低版本 |
| ---------- | ------- | ------ | ------------------------------------------------------------ | -------- |
| scale-area | Boolean | false  | 当里面的movable-view设置为支持双指缩放时，设置此值可将缩放手势生效区域修改为整个movable-area |          |

- **注意：movable-area 必须设置width和height属性，不设置默认为10px**

##### movable-view  可移动的视图容器，在页面中可以拖拽滑动

| 属性名        | 类型            | 默认值 | 说明                                                         | 最低版本                                                     |
| ------------- | --------------- | ------ | ------------------------------------------------------------ | ------------------------------------------------------------ |
| direction     | String          | none   | movable-view的移动方向，属性值有all、vertical、horizontal、none |                                                              |
| inertia       | Boolean         | false  | movable-view是否带有惯性                                     |                                                              |
| out-of-bounds | Boolean         | false  | 超过可移动区域后，movable-view是否还可以移动                 |                                                              |
| x             | Number / String |        | 定义x轴方向的偏移，如果x的值不在可移动范围内，会自动移动到可移动范围；改变x的值会触发动画 |                                                              |
| y             | Number / String |        | 定义y轴方向的偏移，如果y的值不在可移动范围内，会自动移动到可移动范围；改变y的值会触发动画 |                                                              |
| damping       | Number          | 20     | 阻尼系数，用于控制x或y改变时的动画和过界回弹的动画，值越大移动越快 |                                                              |
| friction      | Number          | 2      | 摩擦系数，用于控制惯性滑动的动画，值越大摩擦力越大，滑动越快停止；必须大于0，否则会被设置成默认值 |                                                              |
| disabled      | Boolean         | false  | 是否禁用                                                     | [1.9.90](https://mp.weixin.qq.com/debug/wxadoc/dev/framework/compatibility.html) |
| scale         | Boolean         | false  | 是否支持双指缩放，默认缩放手势生效区域是在movable-view内     | [1.9.90](https://mp.weixin.qq.com/debug/wxadoc/dev/framework/compatibility.html) |
| scale-min     | Number          | 0.5    | 定义缩放倍数最小值                                           | [1.9.90](https://mp.weixin.qq.com/debug/wxadoc/dev/framework/compatibility.html) |
| scale-max     | Number          | 10     | 定义缩放倍数最大值                                           | [1.9.90](https://mp.weixin.qq.com/debug/wxadoc/dev/framework/compatibility.html) |
| scale-value   | Number          | 1      | 定义缩放倍数，取值范围为 0.5 - 10                            | [1.9.90](https://mp.weixin.qq.com/debug/wxadoc/dev/framework/compatibility.html) |
| bindchange    | EventHandle     |        | 完成一次拖动后触发的事件，event.detail = {x: x, y: y, source: source}，其中source表示产生移动的原因，值可为touch（拖动）、touch-out-of-bounds（超出移动范围）、out-of-bounds（超出移动范围后的回弹）、friction（惯性）和空字符串（setData） | [1.9.90](https://mp.weixin.qq.com/debug/wxadoc/dev/framework/compatibility.html) |
| bindscale     | EventHandle     |        | 完成一次拖动后触发的事件，event.detail = {scale: scale}      |                                                              |

#### cover-view 覆盖在原生组件之上的文本视图，

- 可覆盖的原生组件包括`map`、`video`、`canvas`、`camera`，只支持嵌套`cover-view`、`cover-image`

##### cover-image

- 覆盖在原生组件之上的图片视图，可覆盖的原生组件同`cover-view`，支持嵌套在cover-view里。

### 5.基础内容

#### icon 图标

| 属性名 | 类型   | 默认值 | 说明                                                         |
| ------ | ------ | ------ | ------------------------------------------------------------ |
| type   | String |        | icon的类型，有效值：success, success_no_circle, info, warn, waiting, cancel, download, search, clear |
| size   | Number | 23     | icon的大小，单位px                                           |
| color  | Color  |        | icon的颜色，同css的color                                     |

```html
<!-- 成功图标 -->
<icon type='success' size='40'></icon>
<!-- 对勾图标 -->
<icon type='success_no_circle' size='40'></icon>
<!-- 提示图标 -->
<icon type='info' size='40'></icon>
<!-- 警告图标 -->
<icon type='warn' size='40'></icon>
<!-- 表,等待图标 -->
<icon type='waiting' size='40'></icon>
<!-- 危险图标 -->
<icon type='cancel' size='40'></icon>
<!-- 下载图标 -->
<icon type='download' size='40'></icon>
<!-- 搜索图标 放大镜 -->
<icon type='search' size='40'></icon>
<!-- 删除图标 -->
<icon type='clear' size='40'></icon>
```

#### block

```html
<!-- block 不参与显示,但是可以参与运算 -->
<!-- 
    wx:for 它的值是要显示的数据集合(数组)类似于 JS 中的 for 循环
    item: 指的是这个数组中的每一个元素
 -->
<block wx:for="{{iconSize}}">
    <view>
        <text>一束梨花压海棠--{{item}}</text>
    </view>
</block>
```

####  text 文本

| 属性名     | 类型    | 默认值 | 说明         | 最低版本                                                     |
| ---------- | ------- | ------ | ------------ | ------------------------------------------------------------ |
| selectable | Boolean | false  | 文本是否可选 | [1.1.0](https://mp.weixin.qq.com/debug/wxadoc/dev/framework/compatibility.html) |
| space      | String  | false  | 显示连续空格 | [1.4.0](https://mp.weixin.qq.com/debug/wxadoc/dev/framework/compatibility.html) |
| decode     | Boolean | false  | 是否解码     |                                                              |

#### rich-text 富文本

| 属性  | 类型           | 默认值 | 说明                   | 最低版本                                                     |
| ----- | -------------- | ------ | ---------------------- | ------------------------------------------------------------ |
| nodes | Array / String | []     | 节点列表 / HTML String | [1.4.0](https://mp.weixin.qq.com/debug/wxadoc/dev/framework/compatibility.html) |

```html
<!-- 富文本 -->
<rich-text nodes='{{node}}'></rich-text>
```

```js
node:[{
    name:'div',
    attrs:{
        class:'div_class',
        style:'border:1px #000 solid'
    },
    children:[{
        type:'text',
        text:'HELLO WORLD!'
    }]
}]
```

#### progress 进度条

| 属性名          | 类型    | 默认值    | 说明                                                    | 最低版本                                                     |
| --------------- | ------- | --------- | ------------------------------------------------------- | ------------------------------------------------------------ |
| percent         | Float   | 无        | 百分比0~100                                             |                                                              |
| show-info       | Boolean | false     | 在进度条右侧显示百分比                                  |                                                              |
| stroke-width    | Number  | 6         | 进度条线的宽度，单位px                                  |                                                              |
| color           | Color   | #09BB07   | 进度条颜色 （请使用 activeColor）                       |                                                              |
| activeColor     | Color   |           | 已选择的进度条的颜色                                    |                                                              |
| backgroundColor | Color   |           | 未选择的进度条的颜色                                    |                                                              |
| active          | Boolean | false     | 进度条从左往右的动画                                    |                                                              |
| active-mode     | String  | backwards | backwards: 动画从头播；forwards：动画从上次结束点接着播 | [1.7.0](https://mp.weixin.qq.com/debug/wxadoc/dev/framework/compatibility.html) |

```html
<!-- 
    进度条:
    percent:百分比
 -->
<progress class='pro' percent='100' show-info stroke-width='20' active='true' active-mode='forwards'></progress>
```

### 6.表单

#### 1) button 按钮

| 属性名                 | 类型    | 默认值       | 说明                                                         | 生效时机                   | 最低版本                                                     |
| ---------------------- | ------- | ------------ | ------------------------------------------------------------ | -------------------------- | ------------------------------------------------------------ |
| size                   | String  | default      | 按钮的大小                                                   |                            |                                                              |
| type                   | String  | default      | 按钮的样式类型                                               |                            |                                                              |
| plain                  | Boolean | false        | 按钮是否镂空，背景色透明                                     |                            |                                                              |
| disabled               | Boolean | false        | 是否禁用                                                     |                            |                                                              |
| loading                | Boolean | false        | 名称前是否带 loading 图标                                    |                            |                                                              |
| form-type              | String  |              | 用于 `<form/>` 组件，点击分别会触发 `<form/>` 组件的 submit/reset 事件 |                            |                                                              |
| open-type              | String  |              | 微信开放能力                                                 |                            | [1.1.0](https://mp.weixin.qq.com/debug/wxadoc/dev/framework/compatibility.html) |
| app-parameter          | String  |              | 打开 APP 时，向 APP 传递的参数                               | open-type="launchApp"      | [1.9.5](https://mp.weixin.qq.com/debug/wxadoc/dev/framework/compatibility.html) |
| hover-class            | String  | button-hover | 指定按钮按下去的样式类。当 `hover-class="none"` 时，没有点击态效果 |                            |                                                              |
| hover-stop-propagation | Boolean | false        | 指定是否阻止本节点的祖先节点出现点击态                       |                            | [1.5.0](https://mp.weixin.qq.com/debug/wxadoc/dev/framework/compatibility.html) |
| hover-start-time       | Number  | 20           | 按住后多久出现点击态，单位毫秒                               |                            |                                                              |
| hover-stay-time        | Number  | 70           | 手指松开后点击态保留时间，单位毫秒                           |                            |                                                              |
| bindgetuserinfo        | Handler |              | 用户点击该按钮时，会返回获取到的用户信息，从返回参数的detail中获取到的值同[wx.getUserInfo](https://mp.weixin.qq.com/debug/wxadoc/dev/api/open.html#wxgetuserinfoobject) | open-type="getUserInfo'    | [1.3.0](https://mp.weixin.qq.com/debug/wxadoc/dev/framework/compatibility.html) |
| lang                   | String  | en           | 指定返回用户信息的语言，zh_CN 简体中文，zh_TW 繁体中文，en 英文。 | open-type="getUserInfo"    | [1.3.0](https://mp.weixin.qq.com/debug/wxadoc/dev/framework/compatibility.html) |
| session-from           | String  |              | 会话来源                                                     | open-type="contact"        | [1.4.0](https://mp.weixin.qq.com/debug/wxadoc/dev/framework/compatibility.html) |
| send-message-title     | String  | 当前标题     | 会话内消息卡片标题                                           | open-type="contact"        | [1.5.0](https://mp.weixin.qq.com/debug/wxadoc/dev/framework/compatibility.html) |
| send-message-path      | String  | 当前分享路径 | 会话内消息卡片点击跳转小程序路径                             | open-type="contact"        | [1.5.0](https://mp.weixin.qq.com/debug/wxadoc/dev/framework/compatibility.html) |
| send-message-img       | String  | 截图         | 会话内消息卡片图片                                           | open-type="contact"        | [1.5.0](https://mp.weixin.qq.com/debug/wxadoc/dev/framework/compatibility.html) |
| show-message-card      | Boolean | false        | 显示会话内消息卡片                                           | open-type="contact"        | [1.5.0](https://mp.weixin.qq.com/debug/wxadoc/dev/framework/compatibility.html) |
| bindcontact            | Handler |              | 客服消息回调                                                 | open-type="contact"        | [1.5.0](https://mp.weixin.qq.com/debug/wxadoc/dev/framework/compatibility.html) |
| bindgetphonenumber     | Handler |              | 获取用户手机号回调                                           | open-type="getphonenumber" | [1.2.0](https://mp.weixin.qq.com/debug/wxadoc/dev/framework/compatibility.html) |
| binderrror             | Handler |              | 当使用开放能力时，发生错误的回调                             | open-type="launchApp"      | [1.9.5](https://mp.weixin.qq.com/debug/wxadoc/dev/framework/compatibility.html) |

```html
<!-- size 大小 mini 和 default -->
<view>type=default;size=mini</view>
<button type='default' size='mini'>mini</button>
<!-- type primary和 default 和 warn -->
<view>type=primary</view>
<button type='primary' size='default'>primary</button>

<!-- 警告类型 -->
<view>type=warn;size=default</view>
<button type='warn' size='default'>warn</button>

<!-- 提交 -->
<view>type=primary;size=default;form-type=submit</view>
<button type='primary' size='default' form-type='submit'>submit</button>

<!-- 重置 -->
<view>type=warn;size=default;form-type=reset</view>
<button type='warn' size='default' form-type='reset'>reset</button>

<!-- 分享按钮 -->
<view>open-type=share</view>
<button type='primary' size='default' open-type='share'>share</button>

<!-- 打开客服对话 -->
<view>open-type=contact</view>
<button type='primary' size='default' open-type='contact'>contact</button>
```

#### 2) checkbox-group 多项选择器

- 多项选择器，内部由多个`checkbox`组成。

| 属性名     | 类型        | 默认值 | 说明                                                         |
| ---------- | ----------- | ------ | ------------------------------------------------------------ |
| bindchange | EventHandle |        | `<checkbox-group/>`中选中项发生改变是触发 change 事件，detail = {value:[选中的checkbox的value的数组]} |

##### checkbox

| 属性名   | 类型    | 默认值 | 说明                                                         |
| -------- | ------- | ------ | ------------------------------------------------------------ |
| value    | String  |        | `<checkbox/>`标识，选中时触发`<checkbox-group/>`的 change 事件，并携带 `<checkbox/>` 的 value |
| disabled | Boolean | false  | 是否禁用                                                     |
| checked  | Boolean | false  | 当前是否选中，可用来设置默认选中                             |
| color    | Color   |        | checkbox的颜色，同css的color                                 |

```html
<!-- checkbox -->
<view>
    <checkbox-group bindchange="changeValue">
        <block wx:for="{{arr}}">
            <checkbox value='{{item.value}}' checked='{{item.checked}}'></checkbox>{{item.name}}
        </block>
    </checkbox-group>
</view>
```

```js
data: {
        arr: [
            { value: 1, name: '足球' },
            { value: 2, name: '排球' },
            { value: 3, name: '篮球' },
            { value: 4, name: '气球' },
            { value: 5, name: '棒球' }
        ]
    }
```

#### 3) input 输入框

| 属性名            | 类型        | 默认值              | 说明                                                         | 最低版本                                                     |
| ----------------- | ----------- | ------------------- | ------------------------------------------------------------ | ------------------------------------------------------------ |
| value             | String      |                     | 输入框的初始内容                                             |                                                              |
| type              | String      | "text"              | input 的类型                                                 |                                                              |
| password          | Boolean     | false               | 是否是密码类型                                               |                                                              |
| placeholder       | String      |                     | 输入框为空时占位符                                           |                                                              |
| placeholder-style | String      |                     | 指定 placeholder 的样式                                      |                                                              |
| placeholder-class | String      | "input-placeholder" | 指定 placeholder 的样式类                                    |                                                              |
| disabled          | Boolean     | false               | 是否禁用                                                     |                                                              |
| maxlength         | Number      | 140                 | 最大输入长度，设置为 -1 的时候不限制最大长度                 |                                                              |
| cursor-spacing    | Number      | 0                   | 指定光标与键盘的距离，单位 px 。取 input 距离底部的距离和 cursor-spacing 指定的距离的最小值作为光标与键盘的距离 |                                                              |
| auto-focus        | Boolean     | false               | (即将废弃，请直接使用 focus )自动聚焦，拉起键盘              |                                                              |
| focus             | Boolean     | false               | 获取焦点                                                     |                                                              |
| confirm-type      | String      | "done"              | 设置键盘右下角按钮的文字                                     | [1.1.0](https://mp.weixin.qq.com/debug/wxadoc/dev/framework/compatibility.html) |
| confirm-hold      | Boolean     | false               | 点击键盘右下角按钮时是否保持键盘不收起                       | [1.1.0](https://mp.weixin.qq.com/debug/wxadoc/dev/framework/compatibility.html) |
| cursor            | Number      |                     | 指定focus时的光标位置                                        | [1.5.0](https://mp.weixin.qq.com/debug/wxadoc/dev/framework/compatibility.html) |
| selection-start   | Number      | -1                  | 光标起始位置，自动聚集时有效，需与selection-end搭配使用      | [1.9.0](https://mp.weixin.qq.com/debug/wxadoc/dev/framework/compatibility.html) |
| selection-end     | Number      | -1                  | 光标结束位置，自动聚集时有效，需与selection-start搭配使用    | [1.9.0](https://mp.weixin.qq.com/debug/wxadoc/dev/framework/compatibility.html) |
| adjust-position   | Boolean     | true                | 键盘弹起时，是否自动上推页面                                 | [1.9.90](https://mp.weixin.qq.com/debug/wxadoc/dev/framework/compatibility.html) |
| bindinput         | EventHandle |                     | 当键盘输入时，触发input事件，event.detail = {value, cursor}，处理函数可以直接 return 一个字符串，将替换输入框的内容。 |                                                              |
| bindfocus         | EventHandle |                     | 输入框聚焦时触发，event.detail = { value, height }，height 参数在基础库 1.9.90 起支持 |                                                              |
| bindblur          | EventHandle |                     | 输入框失去焦点时触发，event.detail = {value: value}          |                                                              |
| bindconfirm       | EventHandle |                     | 点击完成按钮时触发，event.detail = {value: value}            |                                                              |

**type 有效值：**

| 值     | 说明               |
| ------ | ------------------ |
| text   | 文本输入键盘       |
| number | 数字输入键盘       |
| idcard | 身份证输入键盘     |
| digit  | 带小数点的数字键盘 |

**confirm-type 有效值：**

| 值     | 说明                 |
| ------ | -------------------- |
| send   | 右下角按钮为“发送”   |
| search | 右下角按钮为“搜索”   |
| next   | 右下角按钮为“下一个” |
| go     | 右下角按钮为“前往”   |
| done   | 右下角按钮为“完成”   |

#### 4) picker 多列/单列选择器,主要包含五种, 普通,多列,时间,日期,省市区

- 从底部弹起的滚动选择器，现支持五种选择器，通过mode来区分，分别是普通选择器，多列选择器，时间选择器，日期选择器，省市区选择器，默认是普通选择器。

##### **普通选择器：mode = selector**

| 属性名     | 类型                 | 默认值 | 说明                                                         |
| ---------- | -------------------- | ------ | ------------------------------------------------------------ |
| range      | Array / Object Array | []     | mode为 selector 或 multiSelector 时，range 有效              |
| range-key  | String               |        | 当 range 是一个 Object Array 时，通过 range-key 来指定 Object 中 key 的值作为选择器显示内容 |
| value      | Number               | 0      | value 的值表示选择了 range 中的第几个（下标从 0 开始）       |
| bindchange | EventHandle          |        | value 改变时触发 change 事件，event.detail = {value: value}  |
| disabled   | Boolean              | false  | 是否禁用                                                     |
| bindcancel | EventHandle          |        | 取消选择或点遮罩层收起 picker 时触发                         |

##### **多列选择器：mode = multiSelector**

| 属性名           | 类型                         | 默认值 | 说明                                                         | 最低版本                                                     |
| ---------------- | ---------------------------- | ------ | ------------------------------------------------------------ | ------------------------------------------------------------ |
| range            | 二维Array / 二维Object Array | []     | mode为 selector 或 multiSelector 时，range 有效。二维数组，长度表示多少列，数组的每项表示每列的数据，如`[["a","b"], ["c","d"]]` |                                                              |
| range-key        | String                       |        | 当 range 是一个 二维Object Array 时，通过 range-key 来指定 Object 中 key 的值作为选择器显示内容 |                                                              |
| value            | Array                        | []     | value 每一项的值表示选择了 range 对应项中的第几个（下标从 0 开始） |                                                              |
| bindchange       | EventHandle                  |        | value 改变时触发 change 事件，event.detail = {value: value}  |                                                              |
| bindcolumnchange | EventHandle                  |        | 某一列的值改变时触发 columnchange 事件，event.detail = {column: column, value: value}，column 的值表示改变了第几列（下标从0开始），value 的值表示变更值的下标 |                                                              |
| bindcancel       | EventHandle                  |        | 取消选择时触发                                               | [1.9.90](https://mp.weixin.qq.com/debug/wxadoc/dev/framework/compatibility.html) |
| disabled         | Boolean                      | false  | 是否禁用                                                     |                                                              |

##### **时间选择器：mode = time**

| 属性名     | 类型        | 默认值 | 说明                                                        | 最低版本                                                     |
| ---------- | ----------- | ------ | ----------------------------------------------------------- | ------------------------------------------------------------ |
| value      | String      |        | 表示选中的时间，格式为"hh:mm"                               |                                                              |
| start      | String      |        | 表示有效时间范围的开始，字符串格式为"hh:mm"                 |                                                              |
| end        | String      |        | 表示有效时间范围的结束，字符串格式为"hh:mm"                 |                                                              |
| bindchange | EventHandle |        | value 改变时触发 change 事件，event.detail = {value: value} |                                                              |
| bindcancel | EventHandle |        | 取消选择时触发                                              | [1.9.90](https://mp.weixin.qq.com/debug/wxadoc/dev/framework/compatibility.html) |
| disabled   | Boolean     | false  | 是否禁用                                                    |                                                              |

##### **日期选择器：mode = date**

| 属性名     | 类型        | 默认值 | 说明                                                        | 最低版本                                                     |
| ---------- | ----------- | ------ | ----------------------------------------------------------- | ------------------------------------------------------------ |
| value      | String      | 0      | 表示选中的日期，格式为"YYYY-MM-DD"                          |                                                              |
| start      | String      |        | 表示有效日期范围的开始，字符串格式为"YYYY-MM-DD"            |                                                              |
| end        | String      |        | 表示有效日期范围的结束，字符串格式为"YYYY-MM-DD"            |                                                              |
| fields     | String      | day    | 有效值 year,month,day，表示选择器的粒度                     |                                                              |
| bindchange | EventHandle |        | value 改变时触发 change 事件，event.detail = {value: value} |                                                              |
| bindcancel | EventHandle |        | 取消选择时触发                                              | [1.9.90](https://mp.weixin.qq.com/debug/wxadoc/dev/framework/compatibility.html) |
| disabled   | Boolean     | false  | 是否禁用                                                    |                                                              |

##### **省市区选择器：mode = region**（最低版本：[1.4.0](https://mp.weixin.qq.com/debug/wxadoc/dev/framework/compatibility.html)）

| 属性名      | 类型        | 默认值 | 说明                                                        | 最低版本                                                     |
| ----------- | ----------- | ------ | ----------------------------------------------------------- | ------------------------------------------------------------ |
| value       | Array       | []     | 表示选中的省市区，默认选中每一列的第一个值                  |                                                              |
| custom-item | String      |        | 可为每一列的顶部添加一个自定义的项                          | [1.5.0](https://mp.weixin.qq.com/debug/wxadoc/dev/framework/compatibility.html) |
| bindchange  | EventHandle |        | value 改变时触发 change 事件，event.detail = {value: value} |                                                              |
| bindcancel  | EventHandle |        | 取消选择时触发                                              | [1.9.90](https://mp.weixin.qq.com/debug/wxadoc/dev/framework/compatibility.html) |
| disabled    | Boolean     | false  | 是否禁用                                                    |                                                              |

```html
<!-- 普通选择器 -->
<view>
    <picker bindchange='pickerChange' range='{{arr}}'>
        <view>普通选择:{{arr[index1]}}</view>
    </picker>
</view>

<!-- 多列选择器 -->
<view>
    <picker range='{{arr1}}' bindchange='pickerChange1' mode='multiSelector'>
        <view>多列选择
            {{arr1[0][name[0]]}}
            {{arr1[1][name[1]]}}
            {{arr1[2][name[2]]}}
        </view>
    </picker>
</view>

<!-- 时间选择 -->
<view>
    <picker start="09:01" end="21:01" bindchange='pickerChange2' mode='time'>
        <view value='{{time}}' >时间选择{{time}}</view>
    </picker>
</view>

<!-- 日期选择 -->
<view>
    <picker  start="2018-03-01" end="2020-03-31" bindchange='pickerChange3' mode='date'>
        <view value='{{date}}' >日期选择{{date}}</view>
    </picker>
</view>
```

```js
data: {
    arr: ['浪哥', '子良', '小马', '思研', '景阳'],
    index1:null,
    arr1:[['刘备','曹操'],['李逵','武松'],['迎春','熙凤']],
    name:'',
    time:'07:01',
    date:'2018-03-15'
},
    
// 设置选择函数
pickerChange: function (event) {
    var index = event.detail.value;
    console.log(index);
    this.setData({
        index1:index
    });
},

// 设置多列选择函数
pickerChange1:function(event){
    var index = event.detail.value;
    console.log(index);
    this.setData({
        name: index
    });
},

// 设置选择时间
pickerChange2:function(event){
    var index = event.detail.value;
    console.log(index);
    this.setData({
        time: index
    });
},

// 设置选择日期
pickerChange3: function (event) {
    var index = event.detail.value;
    console.log(index);
    this.setData({
        date: index
    });
},
```

#### 5) radio-group 单项选择器

- 单项选择器，内部由多个`<radio/>`组成。

| 属性名     | 类型        | 默认值 | 说明                                                         |
| ---------- | ----------- | ------ | ------------------------------------------------------------ |
| bindchange | EventHandle |        | `<radio-group/>` 中的选中项发生变化时触发 change 事件，event.detail = {value: 选中项radio的value} |

##### radio 单个项目

| 属性名   | 类型    | 默认值 | 说明                                                         |
| -------- | ------- | ------ | ------------------------------------------------------------ |
| value    | String  |        | `<radio/>` 标识。当该`<radio/>` 选中时，`<radio-group/>` 的 change 事件会携带`<radio/>`的value |
| checked  | Boolean | false  | 当前是否选中                                                 |
| disabled | Boolean | false  | 是否禁用                                                     |
| color    | Color   |        | radio的颜色，同css的color                                    |

```html
<!-- 单项选择器 -->
<radio-group  bindchange="radioChange">
  <label  wx:for="{{items}}">
    <radio value="{{item.name}}" checked="{{item.checked}}"/>{{item.value}}
  </label>
</radio-group>
```

```js
data: {
    items: [
        { name: 'USA', value: '美国' },
        { name: 'CHN', value: '中国' },
        { name: 'BRA', value: '巴西' },
        { name: 'JPN', value: '日本' },
        { name: 'ENG', value: '英国' },
    ]
},

radioChange: function (e) {
    console.log('radio发生change事件，携带value值为：', e.detail.value)
},
```

#### 6) slider 滑动选择器 

| 属性名          | 类型        | 默认值  | 说明                                                    | 最低版本                                                     |
| --------------- | ----------- | ------- | ------------------------------------------------------- | ------------------------------------------------------------ |
| min             | Number      | 0       | 最小值                                                  |                                                              |
| max             | Number      | 100     | 最大值                                                  |                                                              |
| step            | Number      | 1       | 步长，取值必须大于 0，并且可被(max - min)整除           |                                                              |
| disabled        | Boolean     | false   | 是否禁用                                                |                                                              |
| value           | Number      | 0       | 当前取值                                                |                                                              |
| color           | Color       | #e9e9e9 | 背景条的颜色（请使用 backgroundColor）                  |                                                              |
| selected-color  | Color       | #1aad19 | 已选择的颜色（请使用 activeColor）                      |                                                              |
| activeColor     | Color       | #1aad19 | 已选择的颜色                                            |                                                              |
| backgroundColor | Color       | #e9e9e9 | 背景条的颜色                                            |                                                              |
| block-size      | Number      | 28      | 滑块的大小，取值范围为 12 - 28                          | [1.9.0](https://mp.weixin.qq.com/debug/wxadoc/dev/framework/compatibility.html) |
| block-color     | Color       | #ffffff | 滑块的颜色                                              | [1.9.0](https://mp.weixin.qq.com/debug/wxadoc/dev/framework/compatibility.html) |
| show-value      | Boolean     | false   | 是否显示当前 value                                      |                                                              |
| bindchange      | EventHandle |         | 完成一次拖动后触发的事件，event.detail = {value: value} |                                                              |
| bindchanging    | EventHandle |         | 拖动过程中触发的事件，event.detail = {value: value}     |                                                              |

```html
<!-- 滑动滚动条 -->
<view>
    <text>设置step</text>
    <view>
        <slider step='5' min='0' max='100' block-size='18' show-value='true' block-color='#333' activeColor='#0f0' backgroundColor='#f00'></slider>
    </view>
</view>
```

#### 7) switch 开关选择器

| 属性名     | 类型        | 默认值 | 说明                                                         |
| ---------- | ----------- | ------ | ------------------------------------------------------------ |
| checked    | Boolean     | false  | 是否选中                                                     |
| type       | String      | switch | 样式，有效值：switch, checkbox                               |
| bindchange | EventHandle |        | checked 改变时触发 change 事件，event.detail={ value:checked} |
| color      | Color       |        | switch 的颜色，同 css 的 color                               |

```html
<!-- 开关选择器 -->
<view>
    <switch checked='true' type='checkbox' ></switch>
    <switch checked='true' type='switch' bindchange='switch1Change'></switch>
    <switch bindchange='switch2Change'></switch>
</view>
```

```js
switch1Change: function (e) {
    console.log('switch1 发生 change 事件，携带值为', e.detail.value)
},

switch2Change: function (e) {
    console.log('switch2 发生 change 事件，携带值为', e.detail.value)
},
```

#### 8) textarea 多行输入框

| 属性名            | 类型        | 默认值               | 说明                                                         | 最低版本                                                     |
| ----------------- | ----------- | -------------------- | ------------------------------------------------------------ | ------------------------------------------------------------ |
| value             | String      |                      | 输入框的内容                                                 |                                                              |
| placeholder       | String      |                      | 输入框为空时占位符                                           |                                                              |
| placeholder-style | String      |                      | 指定 placeholder 的样式                                      |                                                              |
| placeholder-class | String      | textarea-placeholder | 指定 placeholder 的样式类                                    |                                                              |
| disabled          | Boolean     | false                | 是否禁用                                                     |                                                              |
| maxlength         | Number      | 140                  | 最大输入长度，设置为 -1 的时候不限制最大长度                 |                                                              |
| auto-focus        | Boolean     | false                | 自动聚焦，拉起键盘。                                         |                                                              |
| focus             | Boolean     | false                | 获取焦点                                                     |                                                              |
| auto-height       | Boolean     | false                | 是否自动增高，设置auto-height时，style.height不生效          |                                                              |
| fixed             | Boolean     | false                | 如果 textarea 是在一个 `position:fixed` 的区域，需要显示指定属性 fixed 为 true |                                                              |
| cursor-spacing    | Number      | 0                    | 指定光标与键盘的距离，单位 px 。取 textarea 距离底部的距离和 cursor-spacing 指定的距离的最小值作为光标与键盘的距离 |                                                              |
| cursor            | Number      |                      | 指定focus时的光标位置                                        | [1.5.0](https://mp.weixin.qq.com/debug/wxadoc/dev/framework/compatibility.html) |
| show-confirm-bar  | Boolean     | true                 | 是否显示键盘上方带有”完成“按钮那一栏                         | [1.6.0](https://mp.weixin.qq.com/debug/wxadoc/dev/framework/compatibility.html) |
| selection-start   | Number      | -1                   | 光标起始位置，自动聚集时有效，需与selection-end搭配使用      | [1.9.0](https://mp.weixin.qq.com/debug/wxadoc/dev/framework/compatibility.html) |
| selection-end     | Number      | -1                   | 光标结束位置，自动聚集时有效，需与selection-start搭配使用    | [1.9.0](https://mp.weixin.qq.com/debug/wxadoc/dev/framework/compatibility.html) |
| adjust-position   | Boolean     | true                 | 键盘弹起时，是否自动上推页面                                 | [1.9.90](https://mp.weixin.qq.com/debug/wxadoc/dev/framework/compatibility.html) |
| bindfocus         | EventHandle |                      | 输入框聚焦时触发，event.detail = { value, height }，height 参数在基础库 1.9.90 起支持 |                                                              |
| bindblur          | EventHandle |                      | 输入框失去焦点时触发，event.detail = {value, cursor}         |                                                              |
| bindlinechange    | EventHandle |                      | 输入框行数变化时调用，event.detail = {height: 0, heightRpx: 0, lineCount: 0} |                                                              |
| bindinput         | EventHandle |                      | 当键盘输入时，触发 input 事件，event.detail = {value, cursor}，**bindinput 处理函数的返回值并不会反映到 textarea 上** |                                                              |
| bindconfirm       | EventHandle |                      | 点击完成时， 触发 confirm 事件，event.detail = {value: value} |                                                              |

```html
<view>
    <textarea auto-height='true' placeholder='自动增高' auto-focus='true'></textarea>
</view>
```

### 7. navigator 导航

| 属性名                 | 类型    | 默认值          | 说明                                                         | 最低版本                                                     |
| ---------------------- | ------- | --------------- | ------------------------------------------------------------ | ------------------------------------------------------------ |
| url                    | String  |                 | 应用内的跳转链接                                             |                                                              |
| open-type              | String  | navigate        | 跳转方式                                                     |                                                              |
| delta                  | Number  |                 | 当 open-type 为 'navigateBack' 时有效，表示回退的层数        |                                                              |
| hover-class            | String  | navigator-hover | 指定点击时的样式类，当`hover-class="none"`时，没有点击态效果 |                                                              |
| hover-stop-propagation | Boolean | false           | 指定是否阻止本节点的祖先节点出现点击态                       | [1.5.0](https://mp.weixin.qq.com/debug/wxadoc/dev/framework/compatibility.html) |
| hover-start-time       | Number  | 50              | 按住后多久出现点击态，单位毫秒                               |                                                              |
| hover-stay-time        | Number  | 600             | 手指松开后点击态保留时间，单位毫秒                           |                                                              |

**open-type 有效值：**

| 值           | 说明                          | 最低版本                                                     |
| ------------ | ----------------------------- | ------------------------------------------------------------ |
| navigate     | 对应 `wx.navigateTo` 的功能   |                                                              |
| redirect     | 对应 `wx.redirectTo` 的功能   |                                                              |
| switchTab    | 对应 `wx.switchTab` 的功能    |                                                              |
| reLaunch     | 对应 `wx.reLaunch` 的功能     | [1.1.0](https://mp.weixin.qq.com/debug/wxadoc/dev/framework/compatibility.html) |
| navigateBack | 对应 `wx.navigateBack` 的功能 |                                                              |

```html
 <!-- 添加页面跳转  -->
 <navigator url='../bg/bg'>进入组件世界</navigator>
```

- **注：navigator-hover 默认为 {background-color: rgba(0, 0, 0, 0.1); opacity: 0.7;}, <navigator/> 的子节点背景色应为透明色**

### 8.map 地图

| 属性名           | 类型        | 默认值 | 说明                           | 最低版本                                                     |
| ---------------- | ----------- | ------ | ------------------------------ | ------------------------------------------------------------ |
| longitude        | Number      |        | 中心经度                       |                                                              |
| latitude         | Number      |        | 中心纬度                       |                                                              |
| scale            | Number      | 16     | 缩放级别，取值范围为5-18       |                                                              |
| markers          | Array       |        | 标记点                         |                                                              |
| covers           | Array       |        | **即将移除，请使用 markers**   |                                                              |
| polyline         | Array       |        | 路线                           |                                                              |
| circles          | Array       |        | 圆                             |                                                              |
| controls         | Array       |        | 控件                           |                                                              |
| include-points   | Array       |        | 缩放视野以包含所有给定的坐标点 |                                                              |
| show-location    | Boolean     |        | 显示带有方向的当前定位点       |                                                              |
| bindmarkertap    | EventHandle |        | 点击标记点时触发               |                                                              |
| bindcallouttap   | EventHandle |        | 点击标记点对应的气泡时触发     | [1.2.0](https://mp.weixin.qq.com/debug/wxadoc/dev/framework/compatibility.html) |
| bindcontroltap   | EventHandle |        | 点击控件时触发                 |                                                              |
| bindregionchange | EventHandle |        | 视野发生变化时触发             |                                                              |
| bindtap          | EventHandle |        | 点击地图时触发                 |                                                              |
| bindupdated      | EventHandle |        | 在地图渲染更新完成时触发       |                                                              |

#### markers 标记点用于在地图上显示标记的位置

| 属性      | 说明                                 | 类型   | 必填 | 备注                                                         | 最低版本                                                     |
| --------- | ------------------------------------ | ------ | ---- | ------------------------------------------------------------ | ------------------------------------------------------------ |
| id        | 标记点id                             | Number | 否   | marker点击事件回调会返回此id。**建议为每个marker设置上Number类型id，保证更新marker时有更好的性能。** |                                                              |
| latitude  | 纬度                                 | Number | 是   | 浮点数，范围 -90 ~ 90                                        |                                                              |
| longitude | 经度                                 | Number | 是   | 浮点数，范围 -180 ~ 180                                      |                                                              |
| title     | 标注点名                             | String | 否   |                                                              |                                                              |
| iconPath  | 显示的图标                           | String | 是   | 项目目录下的图片路径，支持相对路径写法，以'/'开头则表示相对小程序根目录；也支持临时路径 |                                                              |
| rotate    | 旋转角度                             | Number | 否   | 顺时针旋转的角度，范围 0 ~ 360，默认为 0                     |                                                              |
| alpha     | 标注的透明度                         | Number | 否   | 默认1，无透明                                                |                                                              |
| width     | 标注图标宽度                         | Number | 否   | 默认为图片实际宽度                                           |                                                              |
| height    | 标注图标高度                         | Number | 否   | 默认为图片实际高度                                           |                                                              |
| callout   | 自定义标记点上方的气泡窗口           | Object | 否   | 支持的属性见下表，可识别换行符。                             | [1.2.0](https://mp.weixin.qq.com/debug/wxadoc/dev/framework/compatibility.html) |
| label     | 为标记点旁边增加标签                 | Object | 否   | 支持的属性见下表，可识别换行符。                             | [1.2.0](https://mp.weixin.qq.com/debug/wxadoc/dev/framework/compatibility.html) |
| anchor    | 经纬度在标注图标的锚点，默认底边中点 | Object | 否   | {x, y}，x表示横向(0-1)，y表示竖向(0-1)。{x: .5, y: 1} 表示底边中点 |                                                              |

#### circles 在地图上显示圆

| 属性        | 说明       | 类型   | 必填 | 备注                                              |
| ----------- | ---------- | ------ | ---- | ------------------------------------------------- |
| latitude    | 纬度       | Number | 是   | 浮点数，范围 -90 ~ 90                             |
| longitude   | 经度       | Number | 是   | 浮点数，范围 -180 ~ 180                           |
| color       | 描边的颜色 | String | 否   | 8位十六进制表示，后两位表示alpha值，如：#000000AA |
| fillColor   | 填充颜色   | String | 否   | 8位十六进制表示，后两位表示alpha值，如：#000000AA |
| radius      | 半径       | Number | 是   |                                                   |
| strokeWidth | 描边的宽度 | Number | 否   |                                                   |

#### position

| 属性   | 说明                 | 类型   | 必填 | 备注           |
| ------ | -------------------- | ------ | ---- | -------------- |
| left   | 距离地图的左边界多远 | Number | 否   | 默认为0        |
| top    | 距离地图的上边界多远 | Number | 否   | 默认为0        |
| width  | 控件宽度             | Number | 否   | 默认为图片宽度 |
| height | 控件高度             | Number | 否   | 默认为图片高度 |

- 地图组件的经纬度必填, 如果不填经纬度则默认值是北京的经纬度。

```html
<!-- 地图 -->
<!-- 
    scale:缩放级别
 -->
<view>
    <map longitude="116.301774" latitude="40.109055" circles="{{arr}}" scale="14" show-location="true" style="width: 100%; height: 300px;"></map>
</view>
```

```js
data: {
    arr:[{
        latitude: 40.109055,
        longitude:116.301774,
        radius:500
    }]
  },
```





